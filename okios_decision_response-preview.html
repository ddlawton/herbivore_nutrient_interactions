<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
    <meta charset="utf-8">
    <meta name="generator" content="quarto-1.7.2">

    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

    <meta name="author" content="Douglas Lawton">

    <title>Oikos Decision Response</title>
    <style>
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      div.columns{display: flex; gap: min(4vw, 1.5em);}
      div.column{flex: auto; overflow-x: auto;}
      div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
      ul.task-list{list-style: none;}
      ul.task-list li input[type="checkbox"] {
        width: 0.8em;
        margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
        vertical-align: middle;
      }
      /* CSS for citations */
      div.csl-bib-body { }
      div.csl-entry {
        clear: both;
      }
      .hanging-indent div.csl-entry {
        margin-left:2em;
        text-indent:-2em;
      }
      div.csl-left-margin {
        min-width:2em;
        float:left;
      }
      div.csl-right-inline {
        margin-left:2em;
        padding-left:1em;
      }
      div.csl-indent {
        margin-left: 2em;
      }    </style>

    <style>
      body.hypothesis-enabled #quarto-embed-header {
        padding-right: 36px;
      }

      #quarto-embed-header {
        height: 3em;
        width: 100%;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-bottom: solid 1px;
      }

      #quarto-embed-header h6 {
        font-size: 1.1em;
        padding-top: 0.6em;
        margin-left: 1em;
        margin-right: 1em;
        font-weight: 400;
      }

      #quarto-embed-header a.quarto-back-link,
      #quarto-embed-header a.quarto-download-embed {
        font-size: 0.8em;
        margin-top: 1em;
        margin-bottom: 1em;
        margin-left: 1em;
        margin-right: 1em;
      }

      .quarto-back-container {
        padding-left: 0.5em;
        display: flex;
      }

      .headroom {
          will-change: transform;
          transition: transform 200ms linear;
      }

      .headroom--pinned {
          transform: translateY(0%);
      }

      .headroom--unpinned {
          transform: translateY(-100%);
      }      
    </style>

    <script>
    window.document.addEventListener("DOMContentLoaded", function () {

      var header = window.document.querySelector("#quarto-embed-header");
      const titleBannerEl = window.document.querySelector("body > #title-block-header");
      if (titleBannerEl) {
        titleBannerEl.style.paddingTop = header.clientHeight + "px";
      }
      const contentEl = window.document.getElementById('quarto-content');
      for (const child of contentEl.children) {
        child.style.paddingTop = header.clientHeight + "px";
        child.style.marginTop = "1em";
      }

      // Use the article root if the `back` call doesn't work. This isn't perfect
      // but should typically work
      window.quartoBackToArticle = () => {
        var currentUrl = window.location.href;
        window.history.back();
        setTimeout(() => {
            // if location was not changed in 100 ms, then there is no history back
            if(currentUrl === window.location.href){              
                // redirect to site root
                window.location.href = "index.html";
            }
        }, 100);
      }

      const headroom = new window.Headroom(header, {
        tolerance: 5,
        onPin: function () {
        },
        onUnpin: function () {
        },
      });
      headroom.init();
    });
    </script>

    
<script src="site_libs/manuscript-notebook/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-07c16812f08c4a1591d6ec4fc46327fa.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-e1e378e796bdd1aa61cf7dc9c87af473.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
     <script async="" src="https://hypothes.is/embed.js"></script>
<script>
  window.document.addEventListener("DOMContentLoaded", function (_event) {
    document.body.classList.add('hypothesis-enabled');
  });
</script>  
      </head>

  <body class="quarto-notebook">
    <div id="quarto-embed-header" class="headroom fixed-top bg-primary">
      
      <a onclick="window.quartoBackToArticle(); return false;" class="btn btn-primary quarto-back-link" href=""><i class="bi bi-caret-left"></i> Back to Article</a>
      <h6><i class="bi bi-journal-code"></i> Okios decision response</h6>

            <a href="./okios_decision_response.qmd" class="btn btn-primary quarto-download-embed" download="okios_decision_response.qmd">Download Source</a>
          </div>

     <header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Oikos Decision Response</h1>
          </div>

    
    <div class="quarto-title-meta-container">
      <div class="quarto-title-meta-column-start">
        
        <div class="quarto-title-meta">

                <div>
            <div class="quarto-title-meta-heading">Author</div>
            <div class="quarto-title-meta-contents">
                        <p>Douglas Lawton </p>
                      </div>
          </div>
                
          
                
              </div>
      </div>
      <div class="quarto-title-meta-column-end quarto-other-formats-target">
      </div>
    </div>



    <div class="quarto-other-links-text-target">
    </div>  </div>
</header><div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#dear-editors" id="toc-dear-editors" class="nav-link active" data-scroll-target="#dear-editors">Dear Editors,</a></li>
  <li><a href="#specific-reponses-to-reviewers" id="toc-specific-reponses-to-reviewers" class="nav-link" data-scroll-target="#specific-reponses-to-reviewers">Specific Reponses to Reviewers</a>
  <ul class="collapse">
  <li><a href="#reviewer-1" id="toc-reviewer-1" class="nav-link" data-scroll-target="#reviewer-1">Reviewer: 1</a></li>
  <li><a href="#reviewer-2" id="toc-reviewer-2" class="nav-link" data-scroll-target="#reviewer-2">Reviewer: 2</a></li>
  </ul></li>
  </ul>
</nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
</div>
<main class="content quarto-banner-title-block" id="quarto-document-content">      

       <section id="dear-editors" class="level2">
<h2 class="anchored" data-anchor-id="dear-editors">Dear Editors,</h2>
<p>We sincerely thank the reviewers for their thorough evaluation of our manuscript, <em>“Exploring Nutrient Availability and Herbivorous Insect Population Dynamics Across Multiple Scales.”</em> Their insightful feedback has greatly enhanced the clarity, rigor, and overall impact of this work. In the following sections, we address each comment in detail, providing clarification and revisions where necessary. We have carefully considered their suggestions, incorporating additional references and elaborating on theoretical frameworks. We believe these changes significantly strengthen the manuscript and appreciate the reviewers’ contributions to this improvement process. Below we respond to the specific suggestions and comments left by the reviewers. We again thank them for their time and effort and feel that the manuscript is stronger due to their comments. Our responses will be in <em>italics</em>.</p>
</section>
<section id="specific-reponses-to-reviewers" class="level2">
<h2 class="anchored" data-anchor-id="specific-reponses-to-reviewers">Specific Reponses to Reviewers</h2>
<section id="reviewer-1" class="level3">
<h3 class="anchored" data-anchor-id="reviewer-1">Reviewer: 1</h3>
<p><strong>Comments to the Author: I was invited to review the manuscript titled “Exploring nutrient availability and herbivorous insect population dynamics across multiple scales.” This research investigates how nutrient availability impacts the population dynamics of the Australian plague locust, <em>Chortoicetes terminifera</em>, across various ecological scales. The strength of this work lies in its comprehensive approach, integrating field experiments, laboratory studies, and long-term environmental data to assess the ecological implications of nutrient dynamics on an agriculturally significant pest species. The study highlights the role of nutrient balance in herbivorous insects, suggesting that low-nitrogen environments may increase locust outbreaks by modifying plant nutrient profiles. These findings hold practical value for enhancing locust management strategies and forecasting models, potentially contributing to improved agricultural practices and pest control measures.</strong></p>
<p><strong>Overall, I believe the study is well-executed and merits publication, contingent on addressing the following reservations:</strong></p>
<ol type="1">
<li><strong>The study investigates soil nitrogen and phosphorus at large scales, along with protein and carbohydrate ratios in artificial diets and plants in lab and field cage experiments. However, it does not assess phosphorus content in either the artificial diets or plants used in smaller-scale experiments. Given the focus on multi-scale nutrient availability, it is essential to clarify if there is nutrient mismatch across scales and whether the lack of phosphorus measurements could affect the conclusions on nutrient imbalance.</strong></li>
</ol>
<p><em>Thank you for highlighting the potential value of measuring phosphorus content in artificial diets and plants. While we agree that this could provide further insight into nutrient mismatches, the experiments were completed as designed, and additional measurements are unfortunately not possible at this stage. We highlight this as future work within the first paragraph in the discussion by saying: ‘While this study advances our understanding of nutrient limitation across scales, future work should aim to explicitly assess phosphorus nutrient imbalances at finer scales. This could help elucidate whether phosphorus mismatches at smaller scales influence broader patterns of herbivore population dynamics.’</em></p>
<ol start="2" type="1">
<li><strong>While the introduction effectively outlines a multi-scale approach, the connection between individual herbivore nutrition and broader-scale patterns could be more explicitly articulated. Integrating recent studies could help bridge these concepts and enhance the flow between sections.</strong></li>
</ol>
<p><em>We made more explicit the connection between individual herbivore nutrition and population- and landscape-level patterns and integrated more studies throughout the introduction.</em></p>
<ol start="3" type="1">
<li><strong>The hypotheses are well-presented; however, more explicitly linking them to the theoretical framework (e.g., ecological stoichiometry) would strengthen the foundation for the experiments.</strong></li>
</ol>
<p><em>We expanded the discussion of ecological stoichiometry and the geometric framework for nutrition in several paragraphs in the introduction.</em></p>
<ol start="4" type="1">
<li><strong>Locust populations may respond differently to nitrogen based on local adaptations. I would be interested to know how closely related insect species within the same feeding guild respond to variations in nutrient status (see Behmer &amp; Joern, 2008; Zhu et al., 2020; Zhu et al., 2023). Are there any closely related species to Chortoicetes terminifera that might exhibit different nutrient preferences?</strong></li>
</ol>
<p><strong>References:</strong></p>
<p><strong>Behmer, S.T. &amp; Joern, A. (2008). Coexisting generalist herbivores occupy unique nutritional feeding niches. PNAS, 105, 1977–1982.</strong></p>
<p><strong>Zhu, Y., Veen, G.F., Wang, D., Wang, L., Zhong, Z., Ma, Q., et al.&nbsp;(2020). Herbivore phenology can predict response to changes in plant quality by livestock grazing. Oikos, 129, 811–819.</strong></p>
<p><strong>Zhu, Y., Ma, Q., Zhong, Z., Jiang, M., Bakker, E.S., Harvey, J.A., et al.&nbsp;(2023). Contrasting effects of nitrogen fertilizer application on the performance of closely related grasshoppers through changes in plant nutrient concentrations. Ecological Entomology, 48(3), 347-357.</strong></p>
<p><em>We appreciate the reviewer highlighting this important aspect of nutritional ecology. To address this, we have revised the introduction to discuss how closely related herbivores, even within the same feeding guild, may occupy distinct nutritional niches and respond differently to variations in nutrient availability. We now include references to Behmer &amp; Joern (2008) and Zhu et al.&nbsp;(2020, 2023) to contextualize species-specific nutrient preferences. While our study focuses on Chortoicetes terminifera, we acknowledge that examining other closely related acridid species may reveal important contrasts in nutrient preferences. These considerations will help guide future research on how local adaptations and nutritional niches influence population dynamics. We have added a discussion of this in section 4.4 within the manuscript.</em></p>
<ol start="5" type="1">
<li><strong>Although nitrogen is the primary focus, the influence of other environmental factors (e.g., precipitation, plant diversity, temperature) should be considered, as they also affect locust outbreaks. Including these variables in relation to nitrogen could make the conclusions more robust and refine the predictive model.</strong></li>
</ol>
<p><em>We definitely agree that precipitation, plant diversity, and temperature are all very important variables in predicting locust as this is a very active area of research. The relationship between biomass and rain and locust plagues has been well studied. The purpose of these models were to illustrate the more static environmental variables on locust outbreaks, which are typically understudied at least in large scale predictive modeling. We did not include more environmental variables into the overall model as we were concerned with concurvity which would make model inference more complicated. Instead of adding these variables directly to the model, we decided to summarize the data across a spatial grid so that we were modeling the propensity of outbreaks in spatial areas instead of predicting the temporality of locust plagues. In addition, we built a separate annual precipitation model (Supplementary Figure 8) and included a raw visualization of the relationship between soil nitrogen, soil phosphorus, annual precipitation, and woody tree cover (Supplementary Figure 5). The visual comparisons indicate that soil N is independently affecting locust outbreaks and is not simply a direct correlate of other factors such as woody tree cover.</em></p>
<p><strong>Minor Comments: Line 8-10: This sentence is quite long. Consider splitting it into two sentences for clarity.</strong></p>
<p><em>We have reworded this sentence for clarity as follows: ‘In the field, locusts exposed to protein-biased plants corrected their nutritional imbalance by initially selecting carbohydrate-heavy diets (up to a 1p:20c ratio). Over a week after removal from the protein-rich environment, they returned to the 1p:2c intake target, suggesting that the deficiency was redressed at the time.’</em></p>
<p><strong>Line 13-15: It would be beneficial to show directly how mean annual precipitation affects the relationship between soil nitrogen and locust populations, given the high correlation between these two factors.</strong></p>
<p><em>We included additional correlation analyses in the supplemental material. There is a positive relationship between mean annual precipitation and soil nitrogen, though it is not 1:1 (Supplementary Figure 5C).</em></p>
<p><strong>Line 43-45: In the introduction, further elaboration on the theory of phosphorus limitation would be helpful. The study suggests a non-linear relationship between locust abundance and soil phosphorus, with a peak at approximately 4% phosphorus content. Providing examples of the influence of phosphorus and its threshold on herbivorous insects would add depth.</strong></p>
<p><em>Thank you for this suggestion, we have amended this section to say:</em> <em>Phosphorus is necessary for RNA synthesis, energy storage and transfer via ATP, and numerous other cellular processes. Limitations in one or both restrict herbivore growth and reproduction <span class="citation" data-cites="sterner2003">(<a href="#ref-sterner2003" role="doc-biblioref">Sterner and Elser 2003</a>)</span>. For example, increased host plant C:P results in lower RNA content, slower growth, and reduced abundance for the dryland insect herbivore Sabinia setosa <span class="citation" data-cites="schade_stoichiometric_2003">(<a href="#ref-schade_stoichiometric_2003" role="doc-biblioref">Schade et al. 2003</a>)</span>.</em></p>
<p><strong>Line 80-88: The connection between weather conditions, soil nutrients, and locust populations in the introduction could be clarified further for a smoother transition.</strong></p>
<p><em>Thank you for this suggestion, we have rephrased this section to have a smoother transition as follows: ‘While climatic variability plays a significant role, another critical factor in Australia is its naturally poor soil fertility, with essential nutrients like nitrogen and phosphorus often in short supply in unmodified soils <span class="citation" data-cites="morton_fresh_2011 orians_ecology_2007">(<a href="#ref-orians_ecology_2007" role="doc-biblioref">Orians and Milewski 2007</a>, <a href="#ref-morton_fresh_2011" role="doc-biblioref">Morton et al. 2011</a>)</span>. This nutrient scarcity has shaped the adaptation of many native plants and animals to thrive in low-nutrient environments <span class="citation" data-cites="orians_ecology_2007">(<a href="#ref-orians_ecology_2007" role="doc-biblioref">Orians and Milewski 2007</a>)</span>]. Among Australia’s locust species, C. terminifera is the most widespread and economically damaging <span class="citation" data-cites="hunter_adaptations_2001">(<a href="#ref-hunter_adaptations_2001" role="doc-biblioref">Hunter et al. 2001</a>)</span>. Although numerous studies have linked climatic conditions to C. terminifera population outbreaks <span class="citation" data-cites="clark_influence_1974 deveson_not_2005 farrow_population_1982 key_general_1945">(<a href="#ref-key_general_1945" role="doc-biblioref">Key 1945</a>, <a href="#ref-clark_influence_1974" role="doc-biblioref">Clark 1974</a>, <a href="#ref-farrow_population_1982" role="doc-biblioref">Farrow 1982</a>, <a href="#ref-deveson_not_2005" role="doc-biblioref">Deveson and Walker 2005</a>)</span>, the role of soil and plant nutrients in driving these outbreaks remains underexplored.’</em></p>
<p><strong>Line 245-247: Since soil nitrogen and mean annual precipitation are highly correlated, how do the authors distinguish the effect of soil nitrogen from precipitation on locust populations at landscape scales? It would be useful to explain how they determine the driving factor rather than correlation.</strong></p>
<p><em>Instead of predicting specific instances of outbreaks (which are indeed highly influenced by a given rainfall event), we are predicting the number of outbreaks likely to occur in a 1x1 km^2 grid across decades. Using this approach means that the effects of stochastic variables (e.g.&nbsp;precipitation) are not well captured, but the overall impacts of more static variables (e.g.&nbsp;soil nutrients) are. This is illustrated in Supplementary Figure 8 and Figure 5 that show that the relationship between outbreaks summed up to the grid and mean annual precipitation is weak and very different from the more static environmental variable models. Because the mean annual precipitation-outbreak and soil N-outbreak relationships are different, and the relationship between soil N and MAP is not 1:1, we can conclude that the effect of soil N on the likelihood of outbreaks shown by the model is not well-explained by mean annual precipitation alone.</em></p>
<p><strong>Figure 5a: It appears that when soil nitrogen exceeds 0.33, an increase in soil nitrogen has a positive effect on locust populations. Clarification on this observation would enhance the interpretation of the figure.</strong></p>
<p><em>Thanks for catching this! As can be seen in the original figure, the standard error increases after roughly 0.3 as this area is reaching the upper limits of soil nitrogen seen in this dataset. There are also considerably fewer observations that lead to the model to be more unsure in this parameter space. This make model interpretation difficult and results should be taken with a grain of salt. To not confuse the readers, we have shifted the x axis limits to 0% - 0.3% which can be in Figure 5a.</em></p>
</section>
<section id="reviewer-2" class="level3">
<h3 class="anchored" data-anchor-id="reviewer-2">Reviewer: 2</h3>
<p><strong>Comments to the Author Overall an interesting study with novel results of diet correction following non-choice diets and non-linear responses of locust outbreaks to soil phosphorus. This study also has clear implications for incorporating soil data into outbreak forecast models, in addition to insights into general drivers of herbivore populations. The introduction is particularly well written, and I conclusions follow results. Most of my concerns relate towards improving clarity for the reader, considering the larger number of studies and questions included.</strong></p>
<p><strong>Minor concerns:</strong></p>
<p><strong>Lines 78 – 80: Please connect these two sentences to include a definition of the Resource Pulse Paradigm (or otherwise make it clear what the definition of the RPP is).</strong></p>
<p><em>Thanks for the suggestion we have amended the two sentences as follows: ‘The arid interior of Australia is a highly variable environment <span class="citation" data-cites="morton_fresh_2011">(<a href="#ref-morton_fresh_2011" role="doc-biblioref">Morton et al. 2011</a>)</span> characterized by the Resource-Pulse Paradigm, where episodic resource boosts drive ecological dynamics and population responses <span class="citation" data-cites="noy-meir_desert_1974 whitford_ecology_2002">(<a href="#ref-noy-meir_desert_1974" role="doc-biblioref">Noy-Meir 1974</a>, <a href="#ref-whitford_ecology_2002" role="doc-biblioref">Whitford 2002</a>)</span>. Many Australian animal and plant populations irrupt following periods of favorable climatic conditions. For example, preceding vegetation growth is an important factor for C. terminifera population outbreaks <span class="citation" data-cites="lawton_seeing_2022">(<a href="#ref-lawton_seeing_2022" role="doc-biblioref">Lawton et al. 2022</a>)</span>.’</em></p>
<p><strong>Lines 94 – 95: I understand where this is going based on the study methods, but as a stand-alone question and hypothesis it is a bit confusing (i.e.&nbsp;the question implied locusts are in a non-choice environment, prediction implies choice environment). If there is a way to put the importance of this question in a larger context, that would also add value here.</strong></p>
<p><em>Thanks for the suggestion. We have further clarified this section to say: What happens to C. terminifera when constrained to high-nitrogen environments? Since at the individual level, locusts are often confronted with sub-optimal nutritional situations like high-nitrogen environments, locusts will prefer carbohydrate-rich diets to correct protein-carbohydrate imbalances.</em></p>
<p><strong>Line 96: Would be nice to include a prediction here as well.</strong></p>
<p><em>We have added a prediction as follows: Can we use soil nutrients as a predictor of C. terminifera nymph outbreaks at the continental scale? We expect outbreaks to by negatively correlation with soil nitrogen at this level.</em></p>
<p><strong>Lines 97 - 101: Why is this not included as a fourth question/ predictions?</strong></p>
<p><em>Great suggestion! We have added this as a fourth question to say: ‘What are the large-scale patterns of C. terminifera outbreaks, accounting for climatic factors? We expect outbreaks to be associated with low-nitrogen areas, as terrestrial herbivores often require significantly more nitrogen than phosphorus <span class="citation" data-cites="elser_nutritional_2000">(<a href="#ref-elser_nutritional_2000" role="doc-biblioref">Elser et al. 2000</a>)</span>. Given locusts’ capacity to post-ingestively regulate phosphorus within natural ranges <span class="citation" data-cites="cease_dietary_2016 zhang_grasshoppers_2014">(<a href="#ref-zhang_grasshoppers_2014" role="doc-biblioref">Zhang et al. 2014</a>, <a href="#ref-cease_dietary_2016" role="doc-biblioref">Cease et al. 2016</a>)</span>, we predict nitrogen to be a stronger predictor of population dynamics at the continental scale.’</em></p>
<p><strong>Line 116 etc: the degrees symbol is not showing up correctly in the draft I have access to</strong></p>
<p><em>This was a rendering error when converting to the ARXIV pdf. It is corrected now.</em></p>
<p><strong>Methods: Would be easier to follow why methods were used if there were a few more statements to connect them to the question (e.g.&nbsp;“To test our question regarding XXXX, we XXXX”).</strong></p>
<p><em>Thanks for the suggestion, we highlight which method sections corresponds with which question in the section title.</em></p>
<p><strong>Line 161: What other effects might removing plant litter have caused at this site (e.g.&nbsp;removal of light limitation for plants, increasing soil temperature)? Might want to include this as quick sentence here or in discussion.</strong></p>
<p><em>We have clarified this limitation within the methods section, specifically: ’ We removed any plant litter and arthropods (mostly spiders and locusts) so we could more easily count the locusts and limit predation. This removal may have also affected factors such as light availability for plants and soil temperature, which could have influenced plant growth and other ecological dynamics.’</em></p>
<p><strong>Line 196: Soil data are temporal? How can data released in 2015 overlap with 2017?</strong></p>
<p><em>Thanks for the question. Soil nutrients can be temporal especially the forms of nitrogen and phosphorus that are readily accessible by plants. The soil grid data is based off inorganic forms of nitrogen and phosphorus which are much more stable. With this said, there are many activities (e.g.&nbsp;land use/land change) that can alter soil nutrient make up. As such, we decided to limit the historical outbreak data to the years around the time of release of the Australian Soil Grid in 2015. We clarified this by adding this ending to that sentence ’…</em>to account for any potential shifts in soil nutrient composition’</p>
<p><strong>Lines 208 – 209: Just curious if there is any study that validated these data for the general region? I know e.g.&nbsp;we have soil maps for my main current field site but they are extremely inaccurate :/</strong></p>
<p><em>Great question. This data was validated within the publication (<span class="citation" data-cites="grundy_soil_2015">(<a href="#ref-grundy_soil_2015" role="doc-biblioref">Grundy et al. 2015</a>)</span>) and further information can be found on their website <a href="https://esoil.io/TERNLandscapes/Public/Pages/SLGA/index.html" class="uri">https://esoil.io/TERNLandscapes/Public/Pages/SLGA/index.html</a>. Whereas further validating these modeled soil datasets is warranted, it is out of the scope of this work.</em></p>
<p><strong>Line 219: I assume this will be filled in if accepted? I think you do still need to cite R and packages here to give them credit.</strong></p>
<p><em>Yes, due to the double blind review the github link will be made available to all readers and will contain all code, notebooks, and partially all data. For reproducibility, these packages are versioned via <code>renv</code>. The github README file will have a complete list of all packages, versions, and links to documentation for all python and r packages used once published.</em></p>
<p><strong>Lines 227 – 230: An example of a section that is not super clear on question it is testing. What is the modelled response variable for the GAMs?</strong></p>
<p><em>We have connected method sections to the specific questions they are addressing.</em></p>
<p><strong>Line 244: Why not one model using all categories as response?</strong></p>
<p><em>Since we counted up the number of each categories that happened in each 1km x 1km grid, this produced five potential dependent variables (e.g.&nbsp;the number of <code>0</code> observations, the number of <code>1</code> observations, and so on). There was also a concern about surveyors accurately classifying lower nymph densities (e.g.&nbsp;at low numbers, its hard to quickly call an observation a 1 or a 2). As such, we decided to focus on the two extreme categories to predict: nil observations and outbreaks. To ensure readers are not confused with our grid aggregation approach, we have further clarified this within the methods as follows: ‘Since it is often difficult to accurately assess categories 2-3 given the small differences in densities, We counted the number of outbreaks (APLC nymph density code 4), the number of nil records (APLC nymph density code 0), and total number of survey observations.’</em></p>
<p><strong>Line 245: Does precip drive N? If so, you can still keep precip out of your models but it adds climate change implications for results</strong></p>
<p><em>Yes, precipitation drives soil nitrogen through vegetation productivity, organic matter input, and other nitrogen cycling processes. And the authors agree that this is a compelling reason to not model both variables at the same time, especially in a more inferential approach as compared to a machine learning approach. This comment is similar to reviewer #1 comment above.</em></p>
<p><strong>Results: Again, a better linkage with questions—being explicit about what results are for which question—would benefit readability and clarity for the reader</strong></p>
<p><em>Thanks for the suggestion. Like in the methods section, we have included the specific questions within the section headers.</em></p>
<p><strong>Lines 263 – 264: I don’t understand this statement. Can you please explain this reasoning in more depth?</strong></p>
<p><em>We have clarified this section to say: ‘Consumption in the two diet pairings did not differ, indicating that instead of consuming between the diets randomly (which would be expected if nutrients had no impact on diet consumption) locusts were actively balancing their protein and carbohydrate consumption…’</em></p>
<p><strong>Table 2: I would include the meaning of “diet pair B” in the caption.</strong></p>
<p><em>We have included a brief description of both diet pairs in the caption. ‘Diet pair A and B had the following protein to carbohydrate ratios: 7p:35c &amp; 28p:14c and 7p:35c &amp; 35p:7c respectively.’</em></p>
<p><strong>Table 3: What is the response variable- I don’t understand how growth rate and development time were combined (?). As all these outputs are from GAM/GAMMs, do the estimate signs (+/-) have any meaning?</strong></p>
<p><em>This is a good catch! First off, these are the results of two independent models, one for specific growth rate and the other for development time. Since there are no non-parametric terms estimates (e.g.&nbsp;non-linear smooths), the models are actually generalized linear models that were built using the generalized additive model package called <code>mgcv</code>. We have clarified that these models are either linear models, generalized linear models, or generalized additive modelings through the methods section.</em></p>
<p><strong>Table 7: I know this is not a research question here, but just as background, are outbreaks increasing over time?</strong></p>
<p><em>This is an excellent question. There is one paper that took a random forest approach and modeled climate change impacts and they reported that there should be less outbreaks given climate change. However, I think this is still open for discussion as land use/land change was not taken into account. As this question falls outside of the scope of this paper, there isn’t a need to include this discussion within the main text.</em></p>
<p><strong>Generally, seven Tables is a lot. Can some of these be moved to supplement and switched here for figures?</strong></p>
<p><em>We feel that it’s more transparent to include these statistical results in the main text to make it easily accessible, and opted for tables rather than writing the stats into the results text to make it more streamlined for readers. However, we are open to moving the tables to the supplement if the editors would suggest that approach.</em></p>
<p><strong>Line 310: delete “adding variables”</strong></p>
<p><em>We have deleted this from the manuscript.</em></p>
<p><strong>Lines 331 – 332: Would be better to interpret results here, rather than state methods.</strong></p>
<p><em>We have removed this sentence from the manuscript.</em></p>
<p><strong>Line 336: “decreasing” or just less?</strong></p>
<p><em>We have switch the word from decreasing to less.</em></p>
<p><strong>Lines 426 – 428: Very interesting!</strong></p>
<p><strong>Fig 1.: I assume you are only using soil data from regions overlapping with the locust surveys?</strong></p>
<p><em>Yes, data was extracted only for 1km x 1km grid cells that contained at least one locust survey record. So for example, since Western Australia has no observations, there was no soil data used from this region.</em></p>
<p><strong>References</strong></p>
<div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-cease_dietary_2016" class="csl-entry" role="listitem">
Cease, A. J., Fay, M., Elser, J. J. and Harrison, J. F. 2016. <a href="https://doi.org/10.1242/jeb.126847">Dietary phosphate affects food selection, post-ingestive <span>P</span> fate, and performance of a polyphagous herbivore</a>. - Journal of Experimental Biology: jeb.126847.
</div>
<div id="ref-clark_influence_1974" class="csl-entry" role="listitem">
Clark, D. 1974. <a href="https://doi.org/10.1071/ZO9740365">The <span>Influence</span> of <span>Rainfall</span> on the <span>Densities</span> of <span>Adult</span> <span>Chlortoicetes</span> <span>Terminifera</span> (<span>Walker</span>) in <span>Central</span> <span>Western</span> <span>New</span> <span>South</span> <span>Wales</span>, 1965-73.</a> - Australian Journal of Zoology 22: 365.
</div>
<div id="ref-deveson_not_2005" class="csl-entry" role="listitem">
Deveson, E. D. and Walker, P. W. 2005. <a href="https://doi.org/10.1665/1082-6467(2005)14[91:NAOTHD]2.0.CO;2">Not a one-way trip: Historical distribution data for <span>Australian</span> plague locusts support frequent seasonal exchange migrations</a>. - Journal of Orthoptera Research 14: 91–105.
</div>
<div id="ref-elser_nutritional_2000" class="csl-entry" role="listitem">
Elser, J. J., Fagan, W. F., Denno, R. F., Dobberfuhl, D. R., Folarin, A., Huberty, A., Interlandi, S., Kilham, S. S., McCauley, E., Schulz, K. L., Siemann, E. H. and Sterner, R. W. 2000. <a href="https://doi.org/10.1038/35046058">Nutritional constraints in terrestrial and freshwater food webs</a>. - Nature 408: 578–580.
</div>
<div id="ref-farrow_population_1982" class="csl-entry" role="listitem">
Farrow, R. 1982. <a href="https://doi.org/10.1071/ZO9820569">Population <span>Dynamics</span> of the <span>Australian</span> <span>Plague</span> <span>Locust</span>, <span>Chortoicetes</span> <span>Terminifera</span> (<span>Walker</span>) in <span>Central</span> <span>Western</span> <span>New</span> <span>South</span> <span>Wales</span> <span>Iii</span>. <span>Analysis</span> of <span>Population</span> <span>Processes</span>.</a> - Australian Journal of Zoology 30: 569.
</div>
<div id="ref-grundy_soil_2015" class="csl-entry" role="listitem">
Grundy, M. J., Rossel, R. A. V., Searle, R. D., Wilson, P. L., Chen, C. and Gregory, L. J. 2015. <a href="https://doi.org/10.1071/SR15191">Soil and <span>Landscape</span> <span>Grid</span> of <span>Australia</span></a>. - Soil Research 53: 835.
</div>
<div id="ref-hunter_adaptations_2001" class="csl-entry" role="listitem">
Hunter, D. M., Walker, P. W. and Elder, R. J. 2001. <a href="https://doi.org/10.1665/1082-6467(2001)010[0347:AOLAGT]2.0.CO;2">Adaptations of locusts and grasshoppers to the low and variable rainfall of <span>Australia</span></a>. - Journal of Orthoptera Research 10: 347–351.
</div>
<div id="ref-key_general_1945" class="csl-entry" role="listitem">
Key, K. H. L. 1945. <a href="https://doi.org/10.25919/RTPX-F935">The general ecological characteristics of the outbreak areas and outbreak years of the <span>Australian</span> plague locust (<span>Chortoicetes</span> terminifera <span>Walk</span>.)</a>. in press.
</div>
<div id="ref-lawton_seeing_2022" class="csl-entry" role="listitem">
Lawton, D., Scarth, P., Deveson, E., Piou, C., Spessa, A., Waters, C. and Cease, A. J. 2022. <a href="https://doi.org/10.1111/ecog.05763">Seeing the locust in the swarm: Accounting for spatiotemporal hierarchy improves ecological models of insect populations</a>. - Ecography 2022: ecog.05763.
</div>
<div id="ref-morton_fresh_2011" class="csl-entry" role="listitem">
Morton, S. R., Stafford Smith, D. M., Dickman, C. R., Dunkerley, D. L., Friedel, M. H., McAllister, R. R. J., Reid, J. R. W., Roshier, D. A., Smith, M. A., Walsh, F. J., Wardle, G. M., Watson, I. W. and Westoby, M. 2011. <a href="https://doi.org/10.1016/j.jaridenv.2010.11.001">A fresh framework for the ecology of arid <span>Australia</span></a>. - Journal of Arid Environments 75: 313–329.
</div>
<div id="ref-noy-meir_desert_1974" class="csl-entry" role="listitem">
Noy-Meir, I. 1974. <a href="https://doi.org/10.1146/annurev.es.05.110174.001211">Desert <span>Ecosystems</span>: <span>Higher</span> <span>Trophic</span> <span>Levels</span></a>. - Annual Review of Ecology and Systematics 5: 195–214.
</div>
<div id="ref-orians_ecology_2007" class="csl-entry" role="listitem">
Orians, G. H. and Milewski, A. V. 2007. <a href="https://doi.org/10.1111/j.1469-185X.2007.00017.x">Ecology of <span>Australia</span>: The effects of nutrient‐poor soils and intense fires</a>. - Biological Reviews 82: 393–423.
</div>
<div id="ref-schade_stoichiometric_2003" class="csl-entry" role="listitem">
Schade, J. D., Kyle, M., Hobbie, S. E., Fagan, W. F. and Elser, J. J. 2003. <a href="https://doi.org/10.1046/j.1461-0248.2003.00409.x">Stoichiometric tracking of soil nutrients by a desert insect herbivore</a>. - Ecology Letters 6: 96–101.
</div>
<div id="ref-sterner2003" class="csl-entry" role="listitem">
Sterner, R. W. and Elser, J. J. 2003. <a href="https://doi.org/10.1515/9781400885695">Ecological stoichiometry</a>. - Princeton University Press.
</div>
<div id="ref-whitford_ecology_2002" class="csl-entry" role="listitem">
Whitford, W. G. 2002. Ecology of desert systems. - Academic Press.
</div>
<div id="ref-zhang_grasshoppers_2014" class="csl-entry" role="listitem">
Zhang, Z., Elser, J. J., Cease, A. J., Zhang, X., Yu, Q., Han, X. and Zhang, G. 2014. <a href="https://doi.org/10.1371/journal.pone.0103697">Grasshoppers <span>Regulate</span> <span>N</span>:<span>P</span> <span>Stoichiometric</span> <span>Homeostasis</span> by <span>Changing</span> <span>Phosphorus</span> <span>Contents</span> in <span>Their</span> <span>Frass</span></a> (C Wicker-Thomas, Ed.). - PLoS ONE 9: e103697.
</div>
</div>
</section>
</section>
     </main>
<!-- /main column -->  <script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>  </div> <!-- /content --> 
  
</body></html>